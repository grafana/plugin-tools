# Test info

- Name: smoke: should render query editor
- Location: /home/runner/work/plugin-tools/plugin-tools/myorg-backend-datasource/tests/queryEditor.spec.ts:3:5

# Error details

```
Error: page.goto: Test timeout of 30000ms exceeded.
Call log:
  - navigating to "http://localhost:3000/dashboard/new", waiting until "networkidle"

    at DashboardPage.navigate (/home/runner/work/plugin-tools/plugin-tools/myorg-backend-datasource/node_modules/@grafana/plugin-e2e/dist/models/pages/GrafanaPage.js:15:25)
    at DashboardPage.goto (/home/runner/work/plugin-tools/plugin-tools/myorg-backend-datasource/node_modules/@grafana/plugin-e2e/dist/models/pages/DashboardPage.js:53:18)
    at Object.dashboardPage (/home/runner/work/plugin-tools/plugin-tools/myorg-backend-datasource/node_modules/@grafana/plugin-e2e/dist/fixtures/dashboardPage.js:7:24)
```

# Page snapshot

```yaml
- link "Skip to main content":
  - /url: "#pageContent"
- banner:
  - button "Open menu":
    - img "Grafana"
  - navigation "Breadcrumbs":
    - list:
      - listitem:
        - link "Home":
          - /url: /
      - listitem:
        - link "Dashboards":
          - /url: /dashboards
      - listitem: New dashboard
  - button "Search or jump to..."
  - text: ctrl+k
  - button "New"
  - button "Help"
  - button "Enable kiosk mode"
  - button "Profile":
    - img "User avatar"
  - button "Add"
  - button "Settings"
  - button "Save dashboard"
- main:
  - 'button "Time range selected: Last 6 hours"': Last 6 hours
  - button "Zoom out time range"
  - button "Refresh"
  - button "Auto refresh turned off. Choose refresh time interval"
  - heading "Start your new dashboard by adding a visualization" [level=1]
  - paragraph: Select a data source and then query and visualize your data with charts, stats and tables or create lists, markdowns and other widgets.
  - button "Add visualization"
  - heading "Import panel" [level=3]
  - paragraph: Add visualizations that are shared with other dashboards.
  - button "Add library panel"
  - heading "Import a dashboard" [level=3]
  - paragraph:
    - text: Import dashboards from files or
    - link "grafana.com":
      - /url: https://grafana.com/grafana/dashboards/
    - text: .
  - button "Import dashboard"
```

# Test source

```ts
   1 | import { test, expect } from '@grafana/plugin-e2e';
   2 |
>  3 | test('smoke: should render query editor', async ({ panelEditPage, readProvisionedDataSource }) => {
     |     ^ Error: page.goto: Test timeout of 30000ms exceeded.
   4 |   const ds = await readProvisionedDataSource({ fileName: 'datasources.yml' });
   5 |   await panelEditPage.datasource.set(ds.name);
   6 |   await expect(panelEditPage.getQueryEditorRow('A').getByRole('textbox', { name: 'Query Text' })).toBeVisible();
   7 | });
   8 |
   9 | test('should trigger new query when Constant field is changed', async ({
  10 |   panelEditPage,
  11 |   readProvisionedDataSource,
  12 | }) => {
  13 |   const ds = await readProvisionedDataSource({ fileName: 'datasources.yml' });
  14 |   await panelEditPage.datasource.set(ds.name);
  15 |   await panelEditPage.getQueryEditorRow('A').getByRole('textbox', { name: 'Query Text' }).fill('test query');
  16 |   const queryReq = panelEditPage.waitForQueryDataRequest();
  17 |   await panelEditPage.getQueryEditorRow('A').getByRole('spinbutton').fill('10');
  18 |   await expect(await queryReq).toBeTruthy();
  19 | });
  20 |
  21 | test('data query should return values 10 and 20', async ({ panelEditPage, readProvisionedDataSource }) => {
  22 |   const ds = await readProvisionedDataSource({ fileName: 'datasources.yml' });
  23 |   await panelEditPage.datasource.set(ds.name);
  24 |   await panelEditPage.getQueryEditorRow('A').getByRole('textbox', { name: 'Query Text' }).fill('test query');
  25 |   await panelEditPage.setVisualization('Table');
  26 |   await expect(panelEditPage.refreshPanel()).toBeOK();
  27 |   await expect(panelEditPage.panel.data).toContainText(['10', '20']);
  28 | });
  29 |
```