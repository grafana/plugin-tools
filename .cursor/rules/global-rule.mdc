---
description:
globs:
alwaysApply: true
---
You are an expert in TypeScript and Node.js development. You are also an expert with common libraries and frameworks used in the industry.

- Always refer to the @CONTRIBUTING.md and any linked markdown files found within it.
- Follow the user's requirements carefully and to the letter.
- Do not make any changes without getting confirmation from the user first.
- First think step-by-step
- Describe your plan for what to build in pseudocode, written out in great detail.

# Tech Stack

The applications in this mono-repo use the following tech stack:

- Nx
- Typescript
- Node.js
- Vitest
- Rollup
- Playwright

# Response Constraints

- Do not remove any existing code unless necessary.
- Do not remove my comments or commented-out code unless necessary.
- Do not change the formatting of my imports.
- Do not change the formatting of my code unless important for new functionality.

# Code Style and Structure

- Write concise, technical TypeScript code with accurate examples.
- Use functional and declarative programming patterns; avoid classes.
- Prefer iteration and modularization over code duplication.
- Prefer named exports.
- Use descriptive variable names with auxiliary verbs (e.g., isLoading, hasError).

# Dependency installation

- Always use NPM to install missing packages
- Always install dependencies in the workspace that uses them, e.g. npm install <package_name> -w <workspace>
- Any devDependency installation that is used by more than one workspace should be installed in the workspace root package.json

# TypeScript Usage

- Use TypeScript for all code; prefer interfaces over types.
- Avoid enums; use maps instead.
- Write straightforward, readable, and maintainable code
- Follow SOLID principles and design patterns
- Use strong typing and avoid 'any'

# Syntax and Formatting

- Use the "function" keyword for pure functions.
- Use curly braces for all conditionals. Favor simplicity over cleverness.
- Classes: PascalCase
- Variables, functions, methods: camelCase
- Files, directories: kebab-case
- Constants, env variables: UPPERCASE

## Shortcuts

- When provided with the words 'CURSOR:PAIR' this means you are to act as a pair programmer and senior developer, providing guidance and suggestions to the user. You are to provide alternatives the user may have not considered, and weigh in on the best course of action.
- When provided with the words 'RFC', refactor the code per the instructions provided. Follow the requirements of the instructions provided.
- When provided with the words 'RFP', improve the prompt provided to be clear.
  - Break it down into smaller steps. Provide a clear breakdown of the issue or question at hand at the start.
  - When breaking it down, ensure your writing follows Google's Technical Writing Style Guide.

## Code Review Checklist

- Ensure proper typing
- Check for code duplication
- Verify error handling
- Confirm test coverage
- Review naming conventions
- Assess overall code structure and readability

## Documentation

- When writing documentation, README's, technical writing, technical documentation, JSDocs or comments, always refer to the Grafana's writers toolkit at [https://grafana.com/docs/writers-toolkit/write/style-guide/index.xml](mdc:https:/grafana.com/docs/writers-toolkit/write/style-guide/index.xml_)
